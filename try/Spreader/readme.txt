Робот реализует стратегию торговли в спреде. Основная его задача — заработок на разнице между лучшими бидом и аском (спредом) инструмента. 
Данная стратегия хорошо подходит для малоликвидных и среднеликвидных инструментов и может применяться для любого типа инструментов — акций, фьючерсов, опционов. 
Данная реализация позволяет работать в 3-х режимах :

- от бид

- от аска

- от бида и аска одновременно

Так как робот реализован на языке Lua, скорость его работы гораздо выше, чем у аналогичных Qpile роботов и даже реализованных на компилируемых языках!

Алгоритм работы робота следующий (на примере режима от бида).

Вход 

Если спред больше заданного значения, ставим лучшую заявку на покупку (бид) и изменяем ее чтобы всегда оставаться лучшими. Если значение спреда стало меньше заданного — передвигаем заявку в глубь стакана на n шагов цены от лучшей (в ожидании резкого движения цены крупной рыночной заявкой).

Выход

Если нашу заявку акцептировали, становимся лучшей заявкой на продажу (аском), но не меньше, чем минимальный профит + цена открытия.

В качестве защитного механизма от неблагоприятного развития событий в случае открытия позиции, также, введен следующий механизм: если прошла сделка меньше чем на m шагов цены  от цены открытия, то заявка закрытия всегда будет стоять первой (лучшим аском) до ее удовлетворения.

ВАЖНО! Настройки
Для правильной работы робота нам понадобятся следующие таблицы для заданного инструмента ТТП, Все Сделки, Заявки, Сделки, Стакан.
Если данные таблицы с нужным инструментом у Вас уже открыты в Quik - открывать повторно НЕ НУЖНО.

Вместе с роботом идет файл с настройками который содержит следующее :
1) <work_spread value="3" /> - размер спреда, т.е. если спред больше данного значения то будем торговать. Задается в ШАГАХ ЦЕНЫ!

2) <wait_slippage value="15" /> - отступ от лучшей цены в глубь стакана, т.е. место где наши заявки будут "отсиживатся" в ожидании спреда. Задается в ШАГАХ ЦЕНЫ!

3) <clc value="56375" /> - код клиента

4) <account value="NL0011100043" /> - торговый счет

5) <alert_slippage value="20" /> - на сколько пунктов выше(ниже) от нашей цены входа должна пройти сделка, что бы мы активировали механизм экстренного выхода. Задается в ШАГАХ ЦЕНЫ!

6) <minprofit value="10" /> - тейк-профит. Задается в ШАГАХ ЦЕНЫ!

7) <bidEnable value="1" /> - вкл торговли от бида

8 ) <askEnable value="1" /> - вкл торговли от шорта

9) <security value="MSICH" /> - код бумаги

10) <class value="GTS" /> - код класса

11) <volume value="1" - обьем заявок (пример Центр=100, Мотор=1)